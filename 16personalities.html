<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GachancaMajanca 16 Personalities</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --accent:#AB85DA; --muted:#98a0b3; --text:#0C1019;
  }
  body{font-family: "Yu Gothic UI", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
       background: #fefefe;
       color:var(--text); margin:0; padding:24px;}
  .wrap{max-width:900px;margin:0 auto;}
  header{display:flex;align-items:center;gap:16px;margin-bottom:18px;}
  h1{margin:0;font-size:20px;}
  p.lead{margin:6px 0 18px;color:var(--muted);}
  .card{background:#fafafa;
        border:1px solid rgba(255,255,255,0.04);
        padding:18px;border-radius:12px;margin-bottom:18px;}
  .question{display:grid;grid-template-columns:1fr 240px;gap:12px;align-items:center;padding:8px 0;border-bottom:1px dashed rgba(255,255,255,0.03);}
  .question:last-child{border-bottom:0;}
  .qtext{font-size:15px;}
  .options{display:flex;gap:6px;justify-content:flex-end;flex-wrap:wrap;}
  label.opt{background:rgba(255,255,255,0.02); padding:8px 10px;border-radius:8px;cursor:pointer;border:1px solid transparent;}
  input[type="radio"]{display:none;}
  input[type="radio"]:checked + .opt{background:linear-gradient(90deg, rgba(171,133,218,0.12), rgba(171,133,218,0.06)); border-color: rgba(171,133,218,0.25);}
  .small{font-size:13px;color:var(--muted);}
  .btns{display:flex;gap:10px;margin-top:12px;}
  button.btn{background:var(--accent);color:#071022;border:0;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer;}
  button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text);}
  .result{margin-top:18px;padding:14px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.03);}
  .typecode{font-weight:900;font-size:20px;color:var(--accent);}
  .typename{font-size:18px;margin-top:6px;}
  .desc{margin-top:8px;color:var(--muted);line-height:1.6;}
  pre.map{background:#071323;padding:12px;border-radius:8px;overflow:auto;font-size:13px;}
  footer{margin-top:22px;color:var(--muted);font-size:13px;text-align:center;}
  @media(max-width:700px){ .question{grid-template-columns:1fr;} .options{justify-content:flex-start;} }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>GachancaMajanca <br>16 Personalities</h1>
        <p class="lead">簡単なテストであなたの性格がガチャラー的かマジャリスト的か診断します。<br>G/C = ガチャラー的 M/J = マジャリスト的</p>
      </div>
    </header>

    <div class="card" id="quiz">
      <div id="questions"></div>

      <div class="btns">
        <button class="btn" id="calcBtn">診断する</button>
        <button class="ghost" id="resetBtn">リセット</button>
      </div>

      <div id="resultArea" class="result" style="display:none;">
        <div style="text-align:center;" >あなたのタイプ<br> <span class="typecode"style="text-align:center;font-size:40px;" id="typeCode"></span></div>
        <div style="text-align:center; font-size:20px; font-weight:900;" class="small" id="typeFormal"></div> <!-- 正式名称表示 -->
        <div style="text-align:center; font-size:25px; font-weight:900;" class="typename" id="typeName"></div>
        <div class="desc" id="typeDesc"></div>

        <div style="margin-top:12px;display:flex;gap:8px;align-items:center;">
          <button class="btn" id="copyBtn">結果をコピー</button>
          <button class="ghost" id="detailBtn">16タイプ一覧を見る</button>
        </div>
      </div>
    </div>

<br>
    <div class="card" id="typesCard" style="display:none;">
      <h3>16タイプ一覧</h3>
      <pre class="map" id="typesList">
GCGC : ガチャンカの先駆者
GCGJ : 華ガチャ舞い
GCMC : 静ガチャ忍者
GCMJ : 柔ガチャ導師

GJGC : 自由ガチャ探検隊
GJGJ : 光ガチャ芸人
GJMC : 月影ガチャ旅人
GJMJ : 風花ガチャ表現者

MCGC : 研ぎマジャ実務者
MCGJ : マジャ分析士
MCMC : マジャ観察者
MCMJ : マジャ支援団

MJGC : マジャ調律団
MJGJ : 夢マジャ紡ぎ手
MJMC : マジャ探求者
MJMJ : マジャ詩人団
      </pre>
    </div>

    <footer></footer>
  </div>

<script>
const questions = [
  {id:1, text:"新しい人と出会うのが楽しいと感じる。", side:"G"},
  {id:2, text:"静かな場所で一人の時間を過ごすと落ち着く。", side:"M"},
  {id:3, text:"人前で話すことに抵抗がない。", side:"G"},
  {id:4, text:"予定やルールがきちんと決まっている方が安心する。", side:"C"},
  {id:5, text:"計画よりも、その場のノリで行動することが多い。", side:"J"},
  {id:6, text:"思いついたことをすぐ試したくなる。", side:"J"},
  {id:7, text:"何か思い立ったらすぐ動くタイプだ。", side:"G"},
  {id:8, text:"考えてから行動することが多い。", side:"M"},
  {id:9, text:"物事を決めるときは、論理的に考える方だ。", side:"C"},
  {id:10,text:"直感やひらめきを大事にしている。", side:"J"}
];

const typeMap = {
  "GCGC": {name:"トコさん", formal:"GachancaGachanca", desc:""},
  "GCGJ": {name:"ガチャ舞い人", formal:"GachancaGajanca", desc:""},
  "GCMC": {name:"ガチャ忍者", formal:"GachancaMachanca", desc:""},
  "GCMJ": {name:"ガチャンカ・マジャンカ", formal:"GachancaMajanca", desc:""},
  "GJGC": {name:"自由ガチャ探検隊", formal:"GajancaGachanca", desc:""},
  "GJGJ": {name:"光ガチャ芸人", formal:"GajancaGajanca", desc:""},
  "GJMC": {name:"ガチャ旅人", formal:"GajancaMachanca", desc:""},
  "GJMJ": {name:"ガチャ表現者", formal:"GajancaMajanca", desc:""},
  "MCGC": {name:"研ぎマジャ実務者", formal:"MachancaGachanca", desc:""},
  "MCGJ": {name:"マジャ分析士", formal:"MachancaGajanca", desc:""},
  "MCMC": {name:"マジャ観察者", formal:"MachancaMachanca", desc:""},
  "MCMJ": {name:"マジャ支援団", formal:"MachancaMajanca", desc:""},
  "MJGC": {name:"マジャ調律団", formal:"MajancaGachanca", desc:""},
  "MJGJ": {name:"夢マジャ紡ぎ手", formal:"MajancaGajanca", desc:""},
  "MJMC": {name:"マジャ探求者", formal:"MajancaMachanca", desc:""},
  "MJMJ": {name:"レオン", formal:"MajancaMajanca", desc:""}
};

function el(tag, props={}, children=[]){
  const e = document.createElement(tag);
  for(const k in props) e.setAttribute(k, props[k]);
  (Array.isArray(children)?children:[children]).forEach(c=>{
    if(typeof c === "string") e.appendChild(document.createTextNode(c));
    else if(c) e.appendChild(c);
  });
  return e;
}

function buildQuestions(){
  const container = document.getElementById("questions");
  questions.forEach(q=>{
    const qdiv = el("div",{class:"question"});
    const qtext = el("div",{class:"qtext"},[
      el("div",{},[`Q${q.id}. ${q.text}`]),
      el("div",{class:"small"}, ["（1＝最も思う、5＝最も思わない）"])
    ]);
    const opts = el("div",{class:"options"});
    for(let v=1;v<=5;v++){
      const id = `q${q.id}v${v}`;
      const radio = el("input",{type:"radio", name:`q${q.id}`, id:id, value:String(v)});
      if(v===3) radio.checked = true;
      const label = el("label",{class:"opt", for:id},[String(v)]);
      opts.appendChild(radio); opts.appendChild(label);
    }
    qdiv.appendChild(qtext);
    qdiv.appendChild(opts);
    container.appendChild(qdiv);
  });
}

function resetForm(){
  questions.forEach(q=>{
    const radios = document.getElementsByName(`q${q.id}`);
    radios.forEach(r=> r.checked = (r.value==="3"));
  });
  document.getElementById("resultArea").style.display = "none";
  window.scrollTo({top:0,behavior:"smooth"});
}

function calcResult(){
  const answers = [];
  for(const q of questions){
    const radios = document.getElementsByName(`q${q.id}`);
    let val = null;
    radios.forEach(r=>{ if(r.checked) val = Number(r.value); });
    if(val===null){ alert("すべての質問に回答してください"); return; }
    answers.push(val);
  }

  const svals = answers.map(a => 3 - a);

  let axis1=0,axis2=0,axis3=0,axis4=0;
  [0,1,2].forEach(i=>{ axis1 += svals[i]*(questions[i].side==="G"?+1:-1); });
  [3,4,5].forEach(i=>{ axis2 += svals[i]*(questions[i].side==="C"?+1:-1); });
  [6,7].forEach(i=>{ axis3 += svals[i]*(questions[i].side==="G"?+1:-1); });
  [8,9].forEach(i=>{ axis4 += svals[i]*(questions[i].side==="C"?+1:-1); });

  const code = `${axis1>=0?"G":"M"}${axis2>=0?"C":"J"}${axis3>=0?"G":"M"}${axis4>=0?"C":"J"}`;
  const info = typeMap[code] || {name:"不明の型", formal:"UnknownType", desc:"対応する説明が見つかりません。"};

  document.getElementById("typeCode").textContent = code;
  document.getElementById("typeFormal").textContent = `(${info.formal})`; // ← 正式名称を表示
  document.getElementById("typeName").textContent = info.name;
  document.getElementById("typeDesc").textContent = info.desc +
    `\n\n（軸値） axis1=${axis1.toFixed(1)}, axis2=${axis2.toFixed(1)}, axis3=${axis3.toFixed(1)}, axis4=${axis4.toFixed(1)}`;

  document.getElementById("resultArea").style.display = "block";
  document.getElementById("resultArea").scrollIntoView({behavior:"smooth"});
}

document.addEventListener("DOMContentLoaded", ()=>{
  buildQuestions();
  document.getElementById("calcBtn").addEventListener("click", calcResult);
  document.getElementById("resetBtn").addEventListener("click", resetForm);
  document.getElementById("copyBtn").addEventListener("click", ()=>{
    const code=document.getElementById("typeCode").textContent;
    const formal=document.getElementById("typeFormal").textContent;
    const name=document.getElementById("typeName").textContent;
    const desc=document.getElementById("typeDesc").textContent;
    const text=`ガチャマジャ診断結果： ${code} ${formal} ${name}\n${desc}`;
    navigator.clipboard?.writeText(text).then(()=>alert("結果をコピーしました。"),()=>alert("コピーに失敗しました"));
  });
  document.getElementById("detailBtn").addEventListener("click", ()=>{
    const card=document.getElementById("typesCard");
    card.style.display=card.style.display==="none"?"block":"none";
    card.scrollIntoView({behavior:"smooth"});
  });
});
</script>
</body>
</html>
